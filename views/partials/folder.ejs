<div>
  <div class="mt-10 mb-5">
    <% if (parent) { %>
    <a href="/folders/<%= parent.id %>" class="text-sky-700 underline text-sm">
      < <%= parent.name %></a
    >
    <% } %>
  </div>

  <div class="flex justify-between relative">
    <h1 class="font-semibold text-left text-xl py-3"><%= title %></h1>

    <% if (parent) { %>
    <button class="more-button hover:bg-slate-300 rounded-lg p-3">
      <img
        src="/icons/ellipsis-horizontal-outline.svg"
        alt="more actions"
        class="w-6"
      />
    </button>
    <div
      class="more-div hidden absolute top-full right-0 flex-col bg-white border shadow-md shadow-stone-300 rounded-lg"
    >
      <a
        href="#"
        class="edit-folder w-full flex whitespace-nowrap text-sm font-medium p-4 hover:bg-hover-gray"
      >
        Edit
      </a>
      <a
        href="#"
        class="delete-folder w-full flex whitespace-nowrap text-sm font-medium p-4 hover:bg-hover-gray"
      >
        Delete
      </a>
    </div>
    <% } %>
  </div>

  <div class="flex">
    <% if (children && children.length) { children.forEach((folder) => { %>
    <a
      href="/folders/<%= folder.id %>"
      class="flex w-40 text-sm font-medium text-left border-2 border-slate-300 rounded-lg p-3 m-3 hover:bg-slate-200"
    >
      <img src="/icons/folder-outline.svg" alt="folder" class="w-5 mr-2" />
      <h2 class="truncate"><%= folder.name %></h2>
    </a>
    <% }) } %>
  </div>

  <% if (files && files.length) { files.forEach((file) => { %>
  <div><%= file.name %></div>
  <% }) } %>
</div>

<%- include("edit-folder-modal") %> <%- include("delete-folder-modal") %>

<script src="/js/modal.js"></script>
<script>
  toggleVisibility('.more-button', '.more-div');
  closeDiv('.more-div');

  toggleVisibility('.edit-folder', '.edit-folder-modal');
  closeModal('.edit-folder-modal');

  toggleVisibility('.delete-folder', '.delete-folder-modal');
  closeModal('.delete-folder-modal');
</script>
